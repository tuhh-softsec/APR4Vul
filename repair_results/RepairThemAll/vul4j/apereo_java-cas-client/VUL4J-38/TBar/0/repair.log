cd /workdir/TBar_vul4j_apereo_java-cas-client_VUL4J-38;
export JAVA_TOOL_OPTIONS="-Dfile.encoding=UTF8 -Duser.language=en-US -Duser.country=US -Duser.language=en";
TZ="America/New_York"; export TZ;
export PATH="/usr/lib/jvm/java-8-openjdk-amd64/bin:$PATH";
export JAVA_HOME="/usr/lib/jvm/java-8-openjdk-amd64";
timeout 240m java -Xmx4g -Xms1g -XX:MaxPermSize=512m \
    -cp /script/../libs/tbar_external/com.gzoltar-0.1.1-jdk7.jar:/script/../repair_tools/tbar.jar edu.lu.uni.serval.tbar.main.Main \
    "/workdir/TBar_vul4j_apereo_java-cas-client_VUL4J-38" "org.jasig.cas.client.validation.Cas10TicketValidatorTests#urlEncodedValues" "/cas-client-core/src/main/java/" "/cas-client-core/src/test/java/" "/cas-client-core/target/classes/" "/cas-client-core/target/test-classes/" "/script/../data/benchmarks/vul4j/perfectfl/VUL4J-38/spectra.txt" "mvn test -pl cas-client-core -Dtest=org.jasig.cas.client.validation.Cas10TicketValidatorTests -Dhttps.protocols=TLSv1.2 -Denforcer.skip=true -Dcheckstyle.skip=true -Dcobertura.skip=true -DskipITs=true -Drat.skip=true -Dlicense.skip=true -Dpmd.skip=true -Dfindbugs.skip=true -Dgpg.skip=true -Dskip.npm=true -Dskip.gulp=true -Dskip.bower=true -Danimal.sniffer.skip=true -V -B" "mvn test -pl cas-client-core -Dhttps.protocols=TLSv1.2 -Denforcer.skip=true -Dcheckstyle.skip=true -Dcobertura.skip=true -DskipITs=true -Drat.skip=true -Dlicense.skip=true -Dpmd.skip=true -Dfindbugs.skip=true -Dgpg.skip=true -Dskip.npm=true -Dskip.gulp=true -Dskip.bower=true -Danimal.sniffer.skip=true -V -B" "/root/.m2/repository/xerces/xercesImpl/2.10.0/xercesImpl-2.10.0.jar:/root/.m2/repository/org/opensaml/xmltooling/1.3.2-1/xmltooling-1.3.2-1.jar:/root/.m2/repository/org/opensaml/openws/1.4.2-1/openws-1.4.2-1.jar:/root/.m2/repository/javax/servlet/javax.servlet-api/3.0.1/javax.servlet-api-3.0.1.jar:/root/.m2/repository/joda-time/joda-time/1.6.2/joda-time-1.6.2.jar:/root/.m2/repository/org/springframework/spring-beans/3.1.3.RELEASE/spring-beans-3.1.3.RELEASE.jar:/root/.m2/repository/xalan/xalan/2.7.1/xalan-2.7.1.jar:/root/.m2/repository/org/slf4j/jul-to-slf4j/1.6.1/jul-to-slf4j-1.6.1.jar:/root/.m2/repository/org/bouncycastle/bcprov-jdk15/1.45/bcprov-jdk15-1.45.jar:/root/.m2/repository/org/slf4j/log4j-over-slf4j/1.6.1/log4j-over-slf4j-1.6.1.jar:/root/.m2/repository/commons-collections/commons-collections/3.1/commons-collections-3.1.jar:/root/.m2/repository/org/slf4j/slf4j-api/1.7.1/slf4j-api-1.7.1.jar:/root/.m2/repository/ca/juliusdavies/not-yet-commons-ssl/0.3.9/not-yet-commons-ssl-0.3.9.jar:/root/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/root/.m2/repository/org/springframework/spring-expression/3.1.3.RELEASE/spring-expression-3.1.3.RELEASE.jar:/root/.m2/repository/xalan/serializer/2.7.1/serializer-2.7.1.jar:/root/.m2/repository/velocity/velocity/1.5/velocity-1.5.jar:/root/.m2/repository/commons-codec/commons-codec/1.4/commons-codec-1.4.jar:/root/.m2/repository/junit/junit/4.8.2/junit-4.8.2.jar:/root/.m2/repository/org/springframework/spring-core/3.1.3.RELEASE/spring-core-3.1.3.RELEASE.jar:/root/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/root/.m2/repository/log4j/log4j/1.2.15/log4j-1.2.15.jar:/root/.m2/repository/xml-apis/xml-apis/1.4.01/xml-apis-1.4.01.jar:/root/.m2/repository/commons-lang/commons-lang/2.1/commons-lang-2.1.jar:/root/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.1/jcl-over-slf4j-1.7.1.jar:/root/.m2/repository/org/springframework/spring-asm/3.1.3.RELEASE/spring-asm-3.1.3.RELEASE.jar:/root/.m2/repository/org/apache/santuario/xmlsec/1.4.4/xmlsec-1.4.4.jar:/root/.m2/repository/org/owasp/esapi/esapi/2.0GA/esapi-2.0GA.jar:/root/.m2/repository/xml-resolver/xml-resolver/1.2/xml-resolver-1.2.jar:/root/.m2/repository/xml-security/xmlsec/1.3.0/xmlsec-1.3.0.jar:/root/.m2/repository/org/slf4j/slf4j-simple/1.7.1/slf4j-simple-1.7.1.jar:/root/.m2/repository/org/springframework/spring-aop/3.1.3.RELEASE/spring-aop-3.1.3.RELEASE.jar:/root/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/root/.m2/repository/org/springframework/spring-test/3.1.3.RELEASE/spring-test-3.1.3.RELEASE.jar:/root/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar:/root/.m2/repository/javax/mail/mail/1.4/mail-1.4.jar:/root/.m2/repository/org/opensaml/opensaml/2.5.1-1/opensaml-2.5.1-1.jar:/root/.m2/repository/org/springframework/spring-context/3.1.3.RELEASE/spring-context-3.1.3.RELEASE.jar";
echo "\n\nNode: `hostname`\n";
echo "\n\nDate: `date`\n";
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8 -Duser.language=en-US -Duser.country=US -Duser.language=en
OpenJDK 64-Bit Server VM warning: ignoring option MaxPermSize=512m; support was removed in 8.0
08:30:45,499 |-INFO in ch.qos.logback.classic.LoggerContext[TBar] - Could NOT find resource [logback-test.xml]
08:30:45,499 |-INFO in ch.qos.logback.classic.LoggerContext[TBar] - Could NOT find resource [logback.groovy]
08:30:45,499 |-INFO in ch.qos.logback.classic.LoggerContext[TBar] - Found resource [logback.xml] at [jar:file:/repair_tools/tbar.jar!/logback.xml]
08:30:45,510 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@5a42bbf4 - URL [jar:file:/repair_tools/tbar.jar!/logback.xml] is not of type file
08:30:45,559 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set
08:30:45,560 |-INFO in ch.qos.logback.classic.joran.action.ContextNameAction - Setting logger context name as [TBar]
08:30:45,561 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]
08:30:45,563 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]
08:30:45,604 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.hibernate.engine.query.HQLQueryPlan] to DEBUG
08:30:45,604 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting additivity of logger [org.hibernate.engine.query.HQLQueryPlan] to false
08:30:45,605 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [com.piedra.logback] to DEBUG
08:30:45,605 |-ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [FILE]. Did you define it below instead of above in the configuration file?
08:30:45,605 |-ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.
08:30:45,605 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to DEBUG
08:30:45,605 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]
08:30:45,605 |-ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [ROLLINGFILE]. Did you define it below instead of above in the configuration file?
08:30:45,605 |-ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.
08:30:45,605 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.
08:30:45,607 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@270421f5 - Registering current configuration as safe fallback point

2022-09-14 08:30:45.699 [main] INFO  edu.lu.uni.serval.tbar.AbstractFixer - TBar_vul4j_apereo_java-cas-client_VUL4J-38 Failed Tests: 1
2022-09-14 08:30:45.713 [main] INFO  edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Start to fix suspicious code======
2022-09-14 08:30:45.713 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.jasig.cas.client.validation.AbstractUrlBasedTicketValidator ===113
2022-09-14 08:30:46.108 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:30:46.912 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", populateUrlAttributeMap(serviceUrl));
2022-09-14 08:30:46.912 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:47.613 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:30:47.619 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", setDisableXmlSchemaValidation(serviceUrl));
2022-09-14 08:30:47.620 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:48.303 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:30:48.309 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", setRenew(serviceUrl));
2022-09-14 08:30:48.309 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:48.975 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:30:48.980 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", setCustomParameters(serviceUrl));
2022-09-14 08:30:48.980 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:49.630 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:30:49.636 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", setEncoding(serviceUrl));
2022-09-14 08:30:49.636 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:50.277 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:30:50.286 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", setURLConnectionFactory(serviceUrl));
2022-09-14 08:30:50.286 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:51.016 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:30:51.026 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", parseResponseFromServer(serviceUrl));
2022-09-14 08:30:51.026 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:51.699 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:30:51.706 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl());
2022-09-14 08:30:51.706 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:52.427 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:30:52.495 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        this.customParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:30:52.495 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:53.314 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:30:59.179 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(this.casServerUrlPrefix));
2022-09-14 08:30:59.180 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:30:59.985 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:04.671 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(ticket));
2022-09-14 08:31:04.671 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:05.373 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:09.015 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(this.encoding));
2022-09-14 08:31:09.015 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:09.835 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:13.592 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        getUrlSuffix().put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:13.592 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:14.286 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:14.293 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        getEncoding().put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:14.293 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:14.973 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:14.980 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        isRenew().put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:14.980 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:15.682 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:15.687 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        getCasServerUrlPrefix().put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:15.687 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:16.390 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:16.396 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        getCustomParameters().put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:16.396 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:17.104 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:21.004 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        getURLConnectionFactory().put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:21.004 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:21.700 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:21.706 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(getUrlSuffix()));
2022-09-14 08:31:21.706 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:22.386 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:25.935 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(getEncoding()));
2022-09-14 08:31:25.935 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:26.675 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:30.310 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(isRenew()));
2022-09-14 08:31:30.310 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:31.033 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:31.039 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(getCasServerUrlPrefix()));
2022-09-14 08:31:31.039 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:31.764 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:35.254 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(getCustomParameters()));
2022-09-14 08:31:35.254 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:35.941 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:35.947 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        urlParameters.put("service", encodeUrl(getURLConnectionFactory()));
2022-09-14 08:31:35.947 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:36.541 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:36.573 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters != null) {
+	urlParameters.put("service", encodeUrl(serviceUrl));
@@ -149,6 +150,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	}
+
2022-09-14 08:31:36.573 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:37.318 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:37.326 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters == null) {
+	    throw new IllegalArgumentException("Null 'urlParameters' argument.");
+	}
+urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:37.326 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:38.054 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:41.289 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters == null) {
+	    return null;
+	}
+urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:41.289 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:42.020 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:45.376 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters == null) urlParameters = this.customParameters;
+ urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:45.376 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:46.076 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:46.082 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters == null) urlParameters = new Map();
+ urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:46.083 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:46.675 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:31:46.681 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters == null) return new String();
+	 urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:46.681 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:47.394 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:50.676 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters == null) return ticket;
+	 urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:50.676 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:51.305 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:54.789 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters == null) return this.casServerUrlPrefix;
+	 urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:54.789 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:55.520 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:31:58.825 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters == null) return this.encoding;
+	 urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:31:58.825 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:31:59.573 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:03.299 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl != null) {
+	urlParameters.put("service", encodeUrl(serviceUrl));
+	}
+
2022-09-14 08:32:03.300 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:04.049 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:07.824 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) {
+	    throw new IllegalArgumentException("Null 'serviceUrl' argument.");
+	}
+urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:07.824 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:08.535 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:11.923 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) {
+	    return null;
+	}
+urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:11.923 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:12.642 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:16.061 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) serviceUrl = ticket;
+ urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:16.062 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:16.712 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:32:16.718 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) serviceUrl = this.casServerUrlPrefix;
+ urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:16.719 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:17.417 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:32:17.423 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) serviceUrl = this.encoding;
+ urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:17.423 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:18.058 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:32:18.064 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) serviceUrl = new String();
+ urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:18.064 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:18.741 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:32:18.757 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) return new String();
+	 urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:18.758 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:19.397 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:22.963 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) return ticket;
+	 urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:22.963 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:23.675 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:26.996 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) return this.casServerUrlPrefix;
+	 urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:26.996 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:27.688 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:31.056 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (serviceUrl == null) return this.encoding;
+	 urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:32:31.056 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:31.704 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:34.915 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        if (urlParameters != null && serviceUrl != null) {
+	urlParameters.put("service", encodeUrl(serviceUrl));
@@ -149,6 +150,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	}
+
2022-09-14 08:32:34.915 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:35.629 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:32:35.671 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -106,11 +106,12 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        final Map<String, String> urlParameters = new HashMap<String, String>();
+        urlParameters.put("service", encodeUrl(serviceUrl));
+	final Map<String, String> urlParameters = new HashMap<String, String>();
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:32:35.671 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:36.313 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:32:36.319 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -108,9 +108,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        logger.debug("Placing URL parameters in map.");
-        urlParameters.put("ticket", ticket);
+	logger.debug("Placing URL parameters in map.");
+        urlParameters.put("ticket", ticket);
+
2022-09-14 08:32:36.319 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:37.058 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:40.616 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -109,8 +109,9 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("ticket", ticket);
+	urlParameters.put("ticket", ticket);
+
2022-09-14 08:32:40.616 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:41.274 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:44.718 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,11 +110,13 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:32:44.718 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:45.397 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:48.891 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,13 +110,15 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:32:48.891 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:49.639 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:53.062 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -118,6 +118,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:32:53.062 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:53.683 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:32:56.978 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -120,6 +120,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:32:56.978 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:32:57.709 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:00.955 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -123,6 +123,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:00.955 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:01.640 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:05.136 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -125,6 +125,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
+ suffix.length() + 1);
2022-09-14 08:33:05.136 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:05.911 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:09.488 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -127,6 +127,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+ suffix.length() + 1);
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:09.488 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:10.192 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:13.675 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -129,6 +129,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+ suffix.length() + 1);
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:13.675 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:14.393 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:17.827 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -131,6 +131,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:17.828 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:18.587 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:22.059 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -134,6 +134,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:22.059 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:22.674 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:25.969 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -135,6 +135,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:25.969 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:26.758 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:30.583 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -147,6 +147,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:30.583 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:31.286 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:34.812 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
@@ -149,6 +149,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:34.812 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:35.423 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:33:35.459 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+
2022-09-14 08:33:35.459 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:36.232 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:39.500 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -98,59 +98,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-    /**
-     * Constructs the URL to send the validation request to.
-     *
-     * @param ticket the ticket to be validated.
-     * @param serviceUrl the service identifier.
-     * @return the fully constructed URL.
-     */
-    protected final String constructValidationUrl(final String ticket, final String serviceUrl) {
-        final Map<String, String> urlParameters = new HashMap<String, String>();
-
-        logger.debug("Placing URL parameters in map.");
-        urlParameters.put("ticket", ticket);
-        urlParameters.put("service", encodeUrl(serviceUrl));
-
-        if (this.renew) {
-            urlParameters.put("renew", "true");
-        }
-
-        logger.debug("Calling template URL attribute map.");
-        populateUrlAttributeMap(urlParameters);
-
-        logger.debug("Loading custom parameters from configuration.");
-        if (this.customParameters != null) {
-            urlParameters.putAll(this.customParameters);
-        }
-
-        final String suffix = getUrlSuffix();
-        final StringBuilder buffer = new StringBuilder(urlParameters.size() * 10 + this.casServerUrlPrefix.length()
-                + suffix.length() + 1);
-
-        int i = 0;
-
-        buffer.append(this.casServerUrlPrefix);
-        if (!this.casServerUrlPrefix.endsWith("/")) {
-            buffer.append("/");
-        }
-        buffer.append(suffix);
-
-        for (Map.Entry<String, String> entry : urlParameters.entrySet()) {
-            final String key = entry.getKey();
-            final String value = entry.getValue();
-
-            if (value != null) {
-                buffer.append(i++ == 0 ? "?" : "&");
-                buffer.append(key);
-                buffer.append("=");
-                buffer.append(value);
-            }
-        }
-
-        return buffer.toString();
-
-    }
+
2022-09-14 08:33:39.500 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:40.150 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:33:40.185 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        populateUrlAttributeMap(urlParameters);
2022-09-14 08:33:40.185 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:40.913 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:44.268 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        populateUrlAttributeMap(urlParameters);
+	urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:33:44.269 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:45.020 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:48.305 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -111,6 +111,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	populateUrlAttributeMap(urlParameters);
2022-09-14 08:33:48.305 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:48.976 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:52.287 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        setCustomParameters(urlParameters);
2022-09-14 08:33:52.287 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:52.892 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:33:56.125 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        setCustomParameters(urlParameters);
+	urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:33:56.125 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:33:56.794 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:00.128 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -111,6 +111,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	setCustomParameters(urlParameters);
2022-09-14 08:34:00.128 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:00.841 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:04.371 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        setEncoding(serviceUrl);
2022-09-14 08:34:04.371 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:05.028 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:08.536 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -110,7 +110,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-        urlParameters.put("service", encodeUrl(serviceUrl));
+        setEncoding(serviceUrl);
+	urlParameters.put("service", encodeUrl(serviceUrl));
2022-09-14 08:34:08.537 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:09.237 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:12.727 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -111,6 +111,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	setEncoding(serviceUrl);
2022-09-14 08:34:12.727 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:13.447 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:17.053 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.jasig.cas.client.validation.AbstractUrlBasedTicketValidator ===147
2022-09-14 08:34:17.068 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
buffer.append(value);
2022-09-14 08:34:17.122 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(serviceUrl);
2022-09-14 08:34:17.122 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:17.790 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:21.466 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(this.casServerUrlPrefix);
2022-09-14 08:34:21.466 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:22.182 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:25.782 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(key);
2022-09-14 08:34:25.782 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:26.457 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:29.958 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(suffix);
2022-09-14 08:34:29.958 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:30.639 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:33.794 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(ticket);
2022-09-14 08:34:33.794 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:34.468 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:37.933 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(this.encoding);
2022-09-14 08:34:37.933 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:38.684 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:42.256 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                getUrlSuffix().append(value);
2022-09-14 08:34:42.256 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:43.036 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:34:43.043 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                getEncoding().append(value);
2022-09-14 08:34:43.043 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:43.703 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:34:43.709 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                isRenew().append(value);
2022-09-14 08:34:43.709 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:44.426 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:34:44.433 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                getCasServerUrlPrefix().append(value);
2022-09-14 08:34:44.433 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:45.136 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:34:45.143 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                getCustomParameters().append(value);
2022-09-14 08:34:45.143 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:45.780 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:34:45.786 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                getURLConnectionFactory().append(value);
2022-09-14 08:34:45.787 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:46.541 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:34:46.548 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(getUrlSuffix());
2022-09-14 08:34:46.548 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:47.275 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:50.603 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(getEncoding());
2022-09-14 08:34:50.603 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:51.301 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:54.747 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(isRenew());
2022-09-14 08:34:54.747 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:55.339 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:34:59.137 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(getCasServerUrlPrefix());
2022-09-14 08:34:59.137 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:34:59.916 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:03.336 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(getCustomParameters());
2022-09-14 08:35:03.336 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:04.103 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:07.620 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                buffer.append(getURLConnectionFactory());
2022-09-14 08:35:07.620 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:08.280 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:11.995 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer != null) {
+	buffer.append(value);
+	}
+
2022-09-14 08:35:11.995 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:12.758 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:16.464 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) {
+	    throw new IllegalArgumentException("Null 'buffer' argument.");
+	}
+buffer.append(value);
2022-09-14 08:35:16.464 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:17.185 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:20.683 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,10 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) {
+	    return null;
+	}
+buffer.append(value);
2022-09-14 08:35:20.683 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:21.409 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:24.846 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) buffer = new StringBuilder();
+ buffer.append(value);
2022-09-14 08:35:24.846 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:25.504 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:35:25.509 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) return new String();
+	 buffer.append(value);
2022-09-14 08:35:25.509 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:26.213 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:29.364 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) return value;
+	 buffer.append(value);
2022-09-14 08:35:29.364 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:30.142 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:33.550 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) return key;
+	 buffer.append(value);
2022-09-14 08:35:33.550 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:34.258 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:37.699 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) return suffix;
+	 buffer.append(value);
2022-09-14 08:35:37.700 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:38.409 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:41.747 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) return ticket;
+	 buffer.append(value);
2022-09-14 08:35:41.747 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:42.420 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:45.933 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) return serviceUrl;
+	 buffer.append(value);
2022-09-14 08:35:45.933 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:46.659 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:50.186 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) return this.casServerUrlPrefix;
+	 buffer.append(value);
2022-09-14 08:35:50.186 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:50.793 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:54.158 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) return this.encoding;
+	 buffer.append(value);
2022-09-14 08:35:54.158 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:54.921 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:35:58.581 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                if (buffer == null) continue;
+	buffer.append(value);
2022-09-14 08:35:58.581 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:35:59.306 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:02.837 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+
2022-09-14 08:36:02.837 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:03.618 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:07.189 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                setEncoding(value);
2022-09-14 08:36:07.189 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:07.923 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:11.585 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -144,7 +144,8 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
-                buffer.append(value);
+                setEncoding(value);
+	buffer.append(value);
2022-09-14 08:36:11.585 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:12.230 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:15.560 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -145,6 +145,7 @@ public abstract class AbstractUrlBasedTicketValidator implements TicketValidator
+	setEncoding(value);
2022-09-14 08:36:15.560 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:16.190 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:19.547 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.jasig.cas.client.validation.Cas20ServiceTicketValidator ===73
2022-09-14 08:36:19.590 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:19.640 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        urlParameters.put("pgtUrl", populateUrlAttributeMap(this.proxyCallbackUrl));
2022-09-14 08:36:19.641 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:20.397 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:20.404 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        urlParameters.put("pgtUrl", setDisableXmlSchemaValidation(this.proxyCallbackUrl));
2022-09-14 08:36:20.404 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:21.178 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:21.184 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        urlParameters.put("pgtUrl", setRenew(this.proxyCallbackUrl));
2022-09-14 08:36:21.184 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:21.924 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:21.934 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        urlParameters.put("pgtUrl", setCustomParameters(this.proxyCallbackUrl));
2022-09-14 08:36:21.934 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:22.677 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:22.683 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        urlParameters.put("pgtUrl", setEncoding(this.proxyCallbackUrl));
2022-09-14 08:36:22.683 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:23.375 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:23.381 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        urlParameters.put("pgtUrl", setURLConnectionFactory(this.proxyCallbackUrl));
2022-09-14 08:36:23.381 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:24.078 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:24.085 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        urlParameters.put("pgtUrl", parseResponseFromServer(this.proxyCallbackUrl));
2022-09-14 08:36:24.085 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:24.750 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:24.756 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        urlParameters.put("pgtUrl", encodeUrl());
2022-09-14 08:36:24.756 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:25.406 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:25.442 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        getUrlSuffix().put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:25.442 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:26.178 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:26.184 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        getProxyCallbackUrl().put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:26.184 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:26.882 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:26.888 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        getProxyGrantingTicketStorage().put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:26.888 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:27.607 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:27.620 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        getProxyRetriever().put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:27.620 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:28.287 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:28.302 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,10 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (urlParameters != null) {
+	urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+	}
+
2022-09-14 08:36:28.302 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:29.049 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:32.499 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,10 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (urlParameters == null) {
+	    throw new IllegalArgumentException("Null 'urlParameters' argument.");
+	}
+urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:32.500 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:33.245 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:36.882 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,10 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (urlParameters == null) {
+	    return;
+	}
+urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:36.882 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:37.583 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:41.102 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,8 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (urlParameters == null) urlParameters = new Map();
+ urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:41.102 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:41.706 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 08:36:41.713 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,10 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (this.proxyCallbackUrl != null) {
+	urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+	}
+
2022-09-14 08:36:41.714 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:42.459 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:45.896 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,10 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (this.proxyCallbackUrl == null) {
+	    throw new IllegalArgumentException("Null 'this.proxyCallbackUrl' argument.");
+	}
+urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:45.896 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:46.657 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:50.319 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,10 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (this.proxyCallbackUrl == null) {
+	    return;
+	}
+urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:50.319 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:51.118 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:54.714 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,8 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (this.proxyCallbackUrl == null) this.proxyCallbackUrl = new String();
+ urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:36:54.714 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:55.524 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:36:58.972 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,10 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        if (urlParameters != null && this.proxyCallbackUrl != null) {
+	urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+	}
+
2022-09-14 08:36:58.972 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:36:59.698 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:03.292 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+
2022-09-14 08:37:03.292 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:37:04.003 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:07.615 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -64,14 +64,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-    /**
-     * Adds the pgtUrl to the list of parameters to pass to the CAS server.
-     *
-     * @param urlParameters the Map containing the existing parameters to send to the server.
-     */
-    protected final void populateUrlAttributeMap(final Map<String, String> urlParameters) {
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
-    }
+
2022-09-14 08:37:07.615 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:37:08.447 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:12.127 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        populateUrlAttributeMap(urlParameters);
2022-09-14 08:37:12.127 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:37:12.933 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:16.389 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,8 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        populateUrlAttributeMap(urlParameters);
+	urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:37:16.389 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:37:17.118 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:20.796 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -71,6 +71,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
+	populateUrlAttributeMap(urlParameters);
2022-09-14 08:37:20.797 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:37:21.581 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:25.185 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        setProxyCallbackUrl(this.proxyCallbackUrl);
2022-09-14 08:37:25.185 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:37:26.001 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:29.470 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -70,7 +70,8 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
-        urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
+        setProxyCallbackUrl(this.proxyCallbackUrl);
+	urlParameters.put("pgtUrl", encodeUrl(this.proxyCallbackUrl));
2022-09-14 08:37:29.470 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:37:30.205 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:33.732 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -71,6 +71,7 @@ public class Cas20ServiceTicketValidator extends AbstractCasProtocolUrlBasedTick
+	setProxyCallbackUrl(this.proxyCallbackUrl);
2022-09-14 08:37:33.732 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 08:37:34.505 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 08:37:37.856 [main] INFO  edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Finish off fixing======
Failed to fix bug


Node: ee2bf67284b9



Date: Wed Sep 14 08:37:37 EDT 2022

