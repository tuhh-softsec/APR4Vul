cd /workdir/TBar_vul4j_spring-projects_spring-security-oauth_VUL4J-75;
export JAVA_TOOL_OPTIONS="-Dfile.encoding=UTF8 -Duser.language=en-US -Duser.country=US -Duser.language=en";
TZ="America/New_York"; export TZ;
export PATH="/usr/lib/jvm/jdk1.7.0_80/bin:$PATH";
export JAVA_HOME="/usr/lib/jvm/jdk1.7.0_80";
timeout 240m java -Xmx4g -Xms1g -XX:MaxPermSize=512m \
    -cp /script/../libs/tbar_external/com.gzoltar-0.1.1-jdk7.jar:/script/../repair_tools/tbar.jar edu.lu.uni.serval.tbar.main.Main \
    "/workdir/TBar_vul4j_spring-projects_spring-security-oauth_VUL4J-75" "org.springframework.security.oauth2.provider.endpoint.SpelViewTests#nonRecursive,org.springframework.security.oauth2.provider.endpoint.SpelViewTests#recursive" "/spring-security-oauth2/src/main/java/" "/spring-security-oauth2/src/test/java/" "/spring-security-oauth2/target/classes/" "/spring-security-oauth2/target/test-classes/" "/script/../data/benchmarks/vul4j/perfectfl/VUL4J-75/spectra.txt" "mvn test -pl spring-security-oauth2 -Dtest=org.springframework.security.oauth2.provider.endpoint.SpelViewTests -Dhttps.protocols=TLSv1.2 -Denforcer.skip=true -Dcheckstyle.skip=true -Dcobertura.skip=true -DskipITs=true -Drat.skip=true -Dlicense.skip=true -Dpmd.skip=true -Dfindbugs.skip=true -Dgpg.skip=true -Dskip.npm=true -Dskip.gulp=true -Dskip.bower=true -Danimal.sniffer.skip=true -V -B" "mvn test -pl spring-security-oauth2 -Dhttps.protocols=TLSv1.2 -Denforcer.skip=true -Dcheckstyle.skip=true -Dcobertura.skip=true -DskipITs=true -Drat.skip=true -Dlicense.skip=true -Dpmd.skip=true -Dfindbugs.skip=true -Dgpg.skip=true -Dskip.npm=true -Dskip.gulp=true -Dskip.bower=true -Danimal.sniffer.skip=true -V -B" "/root/.m2/repository/org/springframework/spring-webmvc/4.0.9.RELEASE/spring-webmvc-4.0.9.RELEASE.jar:/root/.m2/repository/org/springframework/data/spring-data-redis/1.5.0.RELEASE/spring-data-redis-1.5.0.RELEASE.jar:/root/.m2/repository/javax/servlet/javax.servlet-api/3.0.1/javax.servlet-api-3.0.1.jar:/root/.m2/repository/org/springframework/spring-context/4.0.9.RELEASE/spring-context-4.0.9.RELEASE.jar:/root/.m2/repository/org/apache/httpcomponents/httpcore/4.3.2/httpcore-4.3.2.jar:/root/.m2/repository/org/springframework/security/spring-security-core/3.2.8.RELEASE/spring-security-core-3.2.8.RELEASE.jar:/root/.m2/repository/org/powermock/powermock-api-mockito/1.5.4/powermock-api-mockito-1.5.4.jar:/root/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/root/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.3.2/jackson-databind-2.3.2.jar:/root/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.13/jackson-core-asl-1.9.13.jar:/root/.m2/repository/org/powermock/powermock-reflect/1.5.4/powermock-reflect-1.5.4.jar:/root/.m2/repository/org/springframework/spring-test/4.0.9.RELEASE/spring-test-4.0.9.RELEASE.jar:/root/.m2/repository/org/powermock/powermock-module-junit4/1.5.4/powermock-module-junit4-1.5.4.jar:/root/.m2/repository/org/springframework/spring-core/4.0.9.RELEASE/spring-core-4.0.9.RELEASE.jar:/root/.m2/repository/org/hsqldb/hsqldb-j5/2.0.0/hsqldb-j5-2.0.0.jar:/root/.m2/repository/org/springframework/spring-aop/4.0.9.RELEASE/spring-aop-4.0.9.RELEASE.jar:/root/.m2/repository/org/springframework/spring-expression/4.0.9.RELEASE/spring-expression-4.0.9.RELEASE.jar:/root/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.3.2/jackson-annotations-2.3.2.jar:/root/.m2/repository/redis/clients/jedis/2.6.3/jedis-2.6.3.jar:/root/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/root/.m2/repository/org/apache/httpcomponents/httpclient/4.3.3/httpclient-4.3.3.jar:/root/.m2/repository/org/springframework/spring-context-support/4.0.9.RELEASE/spring-context-support-4.0.9.RELEASE.jar:/root/.m2/repository/org/springframework/spring-tx/4.0.9.RELEASE/spring-tx-4.0.9.RELEASE.jar:/root/.m2/repository/org/springframework/spring-web/4.0.9.RELEASE/spring-web-4.0.9.RELEASE.jar:/root/.m2/repository/org/objenesis/objenesis/1.0/objenesis-1.0.jar:/root/.m2/repository/org/springframework/spring-beans/4.0.9.RELEASE/spring-beans-4.0.9.RELEASE.jar:/root/.m2/repository/org/apache/commons/commons-pool2/2.3/commons-pool2-2.3.jar:/root/.m2/repository/org/springframework/security/spring-security-jwt/1.0.2.RELEASE/spring-security-jwt-1.0.2.RELEASE.jar:/root/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.13/jackson-mapper-asl-1.9.13.jar:/root/.m2/repository/org/mockito/mockito-all/1.9.5/mockito-all-1.9.5.jar:/root/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.3.2/jackson-core-2.3.2.jar:/root/.m2/repository/org/powermock/powermock-module-junit4-common/1.5.4/powermock-module-junit4-common-1.5.4.jar:/root/.m2/repository/org/springframework/security/spring-security-config/3.2.8.RELEASE/spring-security-config-3.2.8.RELEASE.jar:/root/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.47/bcprov-jdk15on-1.47.jar:/root/.m2/repository/com/orange/redis-embedded/embedded-redis/0.6/embedded-redis-0.6.jar:/root/.m2/repository/org/springframework/security/spring-security-web/3.2.8.RELEASE/spring-security-web-3.2.8.RELEASE.jar:/root/.m2/repository/org/springframework/spring-jdbc/4.0.9.RELEASE/spring-jdbc-4.0.9.RELEASE.jar:/root/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/root/.m2/repository/org/slf4j/slf4j-api/1.7.6/slf4j-api-1.7.6.jar:/root/.m2/repository/junit/junit/4.11/junit-4.11.jar:/root/.m2/repository/org/mockito/mockito-core/1.9.5/mockito-core-1.9.5.jar:/root/.m2/repository/org/javassist/javassist/3.18.1-GA/javassist-3.18.1-GA.jar:/root/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.47/bcpkix-jdk15on-1.47.jar:/root/.m2/repository/org/powermock/powermock-core/1.5.4/powermock-core-1.5.4.jar:/root/.m2/repository/org/powermock/powermock-api-support/1.5.4/powermock-api-support-1.5.4.jar:/root/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar";
echo "\n\nNode: `hostname`\n";
echo "\n\nDate: `date`\n";
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8 -Duser.language=en-US -Duser.country=US -Duser.language=en
18:58:53,600 |-INFO in ch.qos.logback.classic.LoggerContext[TBar] - Could NOT find resource [logback-test.xml]
18:58:53,600 |-INFO in ch.qos.logback.classic.LoggerContext[TBar] - Could NOT find resource [logback.groovy]
18:58:53,601 |-INFO in ch.qos.logback.classic.LoggerContext[TBar] - Found resource [logback.xml] at [jar:file:/repair_tools/tbar.jar!/logback.xml]
18:58:53,618 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@4e3dabe4 - URL [jar:file:/repair_tools/tbar.jar!/logback.xml] is not of type file
18:58:53,671 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set
18:58:53,673 |-INFO in ch.qos.logback.classic.joran.action.ContextNameAction - Setting logger context name as [TBar]
18:58:53,673 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]
18:58:53,676 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]
18:58:53,721 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.hibernate.engine.query.HQLQueryPlan] to DEBUG
18:58:53,721 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting additivity of logger [org.hibernate.engine.query.HQLQueryPlan] to false
18:58:53,721 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [com.piedra.logback] to DEBUG
18:58:53,721 |-ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [FILE]. Did you define it below instead of above in the configuration file?
18:58:53,721 |-ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.
18:58:53,721 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to DEBUG
18:58:53,721 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]
18:58:53,722 |-ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [ROLLINGFILE]. Did you define it below instead of above in the configuration file?
18:58:53,722 |-ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.
18:58:53,722 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.
18:58:53,723 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@32e02ddd - Registering current configuration as safe fallback point

2022-09-14 18:58:54.215 [main] INFO  edu.lu.uni.serval.tbar.AbstractFixer - TBar_vul4j_spring-projects_spring-security-oauth_VUL4J-75 Failed Tests: 2
2022-09-14 18:58:54.218 [main] INFO  edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Start to fix suspicious code======
2022-09-14 18:58:54.218 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.springframework.security.oauth2.provider.endpoint.SpelView ===50
2022-09-14 18:58:54.623 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
this.helper = new PropertyPlaceholderHelper("${", "}");
2022-09-14 18:58:56.755 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper(template, "${", "}");
2022-09-14 18:58:56.755 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:58:57.838 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:58:57.849 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper(this.template, "${", "}");
2022-09-14 18:58:57.849 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:58:58.864 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:58:58.875 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper(this.parser, "${", "}");
2022-09-14 18:58:58.875 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:58:59.989 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:00.000 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper(this.context, "${", "}");
2022-09-14 18:59:00.000 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:01.118 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:01.130 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper(this.helper, "${", "}");
2022-09-14 18:59:01.130 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:02.130 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:02.141 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper(this.resolver, "${", "}");
2022-09-14 18:59:02.141 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:03.094 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:03.108 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", template, "}");
2022-09-14 18:59:03.108 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:04.186 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:04.199 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", this.template, "}");
2022-09-14 18:59:04.199 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:05.169 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:05.186 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", this.parser, "}");
2022-09-14 18:59:05.186 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:06.276 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:06.287 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", this.context, "}");
2022-09-14 18:59:06.287 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:07.331 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:07.341 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", this.helper, "}");
2022-09-14 18:59:07.342 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:08.310 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:08.321 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", this.resolver, "}");
2022-09-14 18:59:08.321 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:09.257 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:09.268 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", "}", template);
2022-09-14 18:59:09.269 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:10.175 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:10.187 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", "}", this.template);
2022-09-14 18:59:10.187 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:11.083 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:11.093 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", "}", this.parser);
2022-09-14 18:59:11.093 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:12.090 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:12.102 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", "}", this.context);
2022-09-14 18:59:12.102 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:13.067 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:13.079 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", "}", this.helper);
2022-09-14 18:59:13.080 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:14.147 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:14.157 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${", "}", this.resolver);
2022-09-14 18:59:14.157 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:15.104 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:15.117 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("}");
2022-09-14 18:59:15.117 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:16.095 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:16.107 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+		this.helper = new PropertyPlaceholderHelper("${");
2022-09-14 18:59:16.107 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:17.105 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:17.165 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -45,9 +45,10 @@ class SpelView implements View {
-		this.template = template;
-		this.context.addPropertyAccessor(new MapAccessor());
+	this.template = template;
+		this.context.addPropertyAccessor(new MapAccessor());
+
2022-09-14 18:59:17.165 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:18.183 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 18:59:23.425 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -46,8 +46,9 @@ class SpelView implements View {
-		this.context.addPropertyAccessor(new MapAccessor());
+	this.context.addPropertyAccessor(new MapAccessor());
+
2022-09-14 18:59:23.425 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:24.480 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 18:59:29.722 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+
@@ -55,6 +55,8 @@ class SpelView implements View {
+	this.helper = new PropertyPlaceholderHelper("${", "}");
+
2022-09-14 18:59:29.722 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:30.782 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 18:59:36.270 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -47,7 +47,7 @@ class SpelView implements View {
-		this.helper = new PropertyPlaceholderHelper("${", "}");
+
2022-09-14 18:59:36.270 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:37.159 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 18:59:42.307 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -44,18 +44,7 @@ class SpelView implements View {
-	public SpelView(String template) {
-		this.template = template;
-		this.context.addPropertyAccessor(new MapAccessor());
-		this.helper = new PropertyPlaceholderHelper("${", "}");
-		this.resolver = new PlaceholderResolver() {
-			public String resolvePlaceholder(String name) {
-				Expression expression = parser.parseExpression(name);
-				Object value = expression.getValue(context);
-				return value == null ? null : value.toString();
-			}
-		};
-	}
+
2022-09-14 18:59:42.307 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:43.122 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:43.149 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.springframework.security.oauth2.provider.endpoint.SpelView ===71
2022-09-14 18:59:43.176 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
String result = helper.replacePlaceholders(template, resolver);
2022-09-14 18:59:43.234 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,7 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		String result = helper.replacePlaceholders(path, resolver);
2022-09-14 18:59:43.234 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:44.153 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 18:59:49.223 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,7 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		String result = helper.replacePlaceholders(result, resolver);
2022-09-14 18:59:49.223 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:50.233 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:50.244 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,7 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		String result = getContentType().replacePlaceholders(template, resolver);
2022-09-14 18:59:50.244 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:51.233 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:51.243 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,7 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		String result = helper.replacePlaceholders(getContentType(), resolver);
2022-09-14 18:59:51.243 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:52.160 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 18:59:57.338 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,7 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		String result = helper.replacePlaceholders(template, getContentType());
2022-09-14 18:59:57.338 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:58.267 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:58.311 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (helper != null) {
+	String result = helper.replacePlaceholders(template, resolver);
+	}
+
2022-09-14 18:59:58.311 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 18:59:59.411 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 18:59:59.422 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (helper == null) {
+	    throw new IllegalArgumentException("Null 'helper' argument.");
+	}
+String result = helper.replacePlaceholders(template, resolver);
2022-09-14 18:59:59.422 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:00.343 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 19:00:06.008 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (helper == null) {
+	    return;
+	}
+String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:06.008 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:07.141 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 19:00:12.746 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,8 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (helper == null) helper = new PropertyPlaceholderHelper();
+ String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:12.746 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:13.686 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:13.697 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (template != null) {
+	String result = helper.replacePlaceholders(template, resolver);
+	}
+
2022-09-14 19:00:13.697 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:14.818 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:14.828 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (template == null) {
+	    throw new IllegalArgumentException("Null 'template' argument.");
+	}
+String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:14.829 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:15.933 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 19:00:21.439 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (template == null) {
+	    return;
+	}
+String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:21.439 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:22.565 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 19:00:28.015 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,8 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (template == null) template = result;
+ String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:28.015 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:28.937 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:28.949 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,8 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (template == null) template = path;
+ String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:28.949 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:29.805 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:29.816 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,8 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (template == null) template = new String();
+ String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:29.816 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:30.799 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:30.811 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (resolver != null) {
+	String result = helper.replacePlaceholders(template, resolver);
+	}
+
2022-09-14 19:00:30.811 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:31.784 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:31.794 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (resolver == null) {
+	    throw new IllegalArgumentException("Null 'resolver' argument.");
+	}
+String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:31.794 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:32.790 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 19:00:38.126 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (resolver == null) {
+	    return;
+	}
+String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:38.126 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:39.189 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
2022-09-14 19:00:44.521 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,8 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (resolver == null) resolver = new PlaceholderResolver();
+ String result = helper.replacePlaceholders(template, resolver);
2022-09-14 19:00:44.522 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:45.539 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:45.548 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,10 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+		if (helper != null && template != null && resolver != null) {
+	String result = helper.replacePlaceholders(template, resolver);
+	}
+
2022-09-14 19:00:45.548 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:46.468 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:46.579 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -68,7 +68,7 @@ class SpelView implements View {
-		String result = helper.replacePlaceholders(template, resolver);
+
2022-09-14 19:00:46.580 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:47.554 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:47.566 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Patch Candidate:
@@ -61,16 +61,6 @@ class SpelView implements View {
-	public void render(Map<String, ?> model, HttpServletRequest request, HttpServletResponse response)
-			throws Exception {
-		Map<String, Object> map = new HashMap<String, Object>(model);
-		String path = ServletUriComponentsBuilder.fromContextPath(request).build()
-				.getPath();
-		map.put("path", (Object) path==null ? "" : path);
-		context.setRootObject(map);
-		String result = helper.replacePlaceholders(template, resolver);
-		response.setContentType(getContentType());
-		response.getWriter().append(result);
-	}
+
2022-09-14 19:00:47.566 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
2022-09-14 19:00:48.528 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - BuggyProject ---Fixer: fix fail because of failed compiling! 
2022-09-14 19:00:48.563 [main] INFO  edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Finish off fixing======
Failed to fix bug


Node: ee2bf67284b9



Date: Wed Sep 14 19:00:48 EDT 2022

